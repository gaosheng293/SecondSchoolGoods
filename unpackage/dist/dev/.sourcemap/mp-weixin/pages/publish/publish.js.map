{"version":3,"file":"publish.js","sources":["pages/publish/publish.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHVibGlzaC9wdWJsaXNoLnZ1ZQ"],"sourcesContent":["<!-- pages/publish/publish.vue  终极干净版（推荐永久使用） -->\r\n<template>\r\n\t<view class=\"publish-page\">\r\n\t\t<view class=\"form\">\r\n\t\t\t<!-- 标题 -->\r\n\t\t\t<view class=\"input-item\">\r\n\t\t\t\t<text class=\"label\">标题 <text class=\"req\">*</text></text>\r\n\t\t\t\t<input v-model.trim=\"form.title\" placeholder=\"好标题是成功的一半～\" maxlength=\"50\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 价格 --> \r\n\t\t\t<view class=\"price-row\">\r\n\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t<text class=\"label\">价格 <text class=\"req\">*</text></text>\r\n\t\t\t\t\t<input v-model=\"priceStr\" type=\"digit\" placeholder=\"必填，只能是数字\" @input=\"filterNumber\"/>\r\n\t\t\t\t\t<!-- <text v-if=\"priceError\" class=\"error-message\">{{ priceError }}</text> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t<text class=\"label\">原价</text>\r\n\t\t\t\t\t<input v-model=\"originalPriceStr\" type=\"digit\" placeholder=\"可不填\" @input=\"filterNumber2\"/>\r\n\t\t\t\t\t<!-- <text v-if=\"originalError\" class=\"error-message\">{{ originalError }}</text> -->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 分类 -->\r\n\t\t\t<view class=\"input-item\" @click=\"openCategoryPopup\">\r\n\t\t\t\t<text class=\"label\">分类 <text class=\"req\">*</text></text>\r\n\t\t\t\t<text class=\"value\">{{ selectedCategoryName || '请选择分类' }}</text>\r\n\t\t\t\t<uni-icons type=\"arrowright\" size=\"16\" color=\"#ccc\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 上传图片 -->\r\n\t\t\t<view class=\"upload-section\">\r\n\t\t\t\t<text class=\"label\">商品图片 <text class=\"req\">*</text> (最多9张)</text>\r\n\t\t\t\t<view class=\"upload-grid\">\r\n\t\t\t\t\t<view v-for=\"(img, i) in form.images\" :key=\"i\" class=\"img-item\">\r\n\t\t\t\t\t\t<image :src=\"img\" mode=\"aspectFill\" />\r\n\t\t\t\t\t\t<view class=\"delete\" @click=\"form.images.splice(i, 1)\">×</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"upload-btn\" v-if=\"form.images.length < 9\" @click=\"chooseImage\">\r\n\t\t\t\t\t\t<uni-icons type=\"plus\" size=\"36\" color=\"#ddd\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 描述 -->\r\n\t\t\t<view class=\"desc-section\">\r\n\t\t\t\t<text class=\"label\">详细描述</text>\r\n\t\t\t\t<textarea v-model=\"form.description\" placeholder=\"成色、尺寸、购买时间...越详细越好哦～\" class=\"desc-input\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 联系方式 -->\r\n\t\t\t<view class=\"contact-section\">\r\n\t\t\t\t<text class=\"section-title\">联系方式（至少填一个）</text>\r\n\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t<text class=\"label\">微信</text>\r\n\t\t\t\t\t<input v-model.trim=\"form.wechat\" placeholder=\"留微信最快成交\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t<text class=\"label\">手机</text>\r\n\t\t\t\t\t<input v-model.trim=\"form.phone\" type=\"number\" placeholder=\"选填\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"input-item\">\r\n\t\t\t\t\t<text class=\"label\">QQ</text>\r\n\t\t\t\t\t<input v-model.trim=\"form.qq\" placeholder=\"选填\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 可刀 & 包邮 -->\r\n\t\t\t<view class=\"options\">\r\n\t\t\t\t<view class=\"option-item\" @click=\"form.isNegotiable = !form.isNegotiable\">\r\n\t\t\t\t\t<uni-icons :type=\"form.isNegotiable ? 'checkmarkempty' : 'circle'\" color=\"#ff4757\" size=\"24\" />\r\n\t\t\t\t\t<text :class=\"{ active: form.isNegotiable }\">可小刀</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"option-item\" @click=\"form.isFreeShipping = !form.isFreeShipping\">\r\n\t\t\t\t\t<uni-icons :type=\"form.isFreeShipping ? 'checkmarkempty' : 'circle'\" color=\"#4cd964\" size=\"24\" />\r\n\t\t\t\t\t<text :class=\"{ active: form.isFreeShipping }\">包邮</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 发布按钮 -->\r\n\t\t\t<button class=\"publish-btn\" @click=\"submit\" :disabled=\"submitting\">\r\n\t\t\t\t{{ submitting ? '发布中...' : '立即发布' }}\r\n\t\t\t</button>\r\n\t\t</view>\r\n\r\n\t\t<!-- 分类弹窗 -->\r\n\t\t<uni-popup ref=\"popup\" type=\"bottom\">\r\n\t\t\t<view class=\"popup-content\">\r\n\t\t\t\t<view class=\"popup-header\">\r\n\t\t\t\t\t<text @click=\"closePopup\">取消</text>\r\n\t\t\t\t\t<text class=\"title\">选择分类</text>\r\n\t\t\t\t\t<text></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"category-grid\">\r\n\t\t\t\t\t<view v-for=\"c in categories\" :key=\"c.id\" class=\"cat-item\" \r\n\t\t\t\t\t\t@click=\"selectCategory(c.id, c.name)\">\r\n\t\t\t\t\t\t{{ c.name }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tform: {\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tprice: null,\r\n\t\t\t\toriginalPrice: null,\r\n\t\t\t\tcategoryId: null,\r\n\t\t\t\timages: [],\r\n\t\t\t\tdescription: '',\r\n\t\t\t\twechat: '',\r\n\t\t\t\tphone: '',\r\n\t\t\t\tqq: '',\r\n\t\t\t\tisNegotiable: false,\r\n\t\t\t\tisFreeShipping: false\r\n\t\t\t},\r\n\t\t\tpriceStr: '',\r\n\t\t\toriginalPriceStr: '',\r\n\t\t\tselectedCategoryName: '',\r\n\t\t\tcategories: [],        // 重点：一定要在这里定义\r\n\t\t\tsubmitting: false,\r\n\t\t\tcategoryLoading: false ,// 新增：加载状态，防止弹窗前没数据\r\n\t\t\thasEverLeft: false  ,// 新增这个标志位\r\n\t\t\t// priceError: '',         // 独立的错误消息\r\n\t\t\t// originalError: '',      // 独立的错误消息\r\n\t\t}\r\n\t},\r\n\r\n\t// 关键：onLoad 里必须先加载分类！\r\n\tonLoad() {\r\n\t\tthis.resetForm()\r\n\t\tthis.loadCategories()   // 必须调用！\r\n\t\tthis.hasEverLeft = false  // 第一次进来不弹窗，直接加载,重置标志位\r\n\t},\r\n\t\r\n\tonShow() {\r\n\t\t// 只有在已经离开过页面后再切回来时才弹（避免第一次进入就弹）\r\n\t\t// 判断form里面的元素是否都没被赋值\r\n\t\tconst f = this.form\r\n\t\t\r\n\t\tconst isEmptyForm  =  (\r\n\t\t    !f.title?.trim() &&                     // 标题为空\r\n\t\t    f.price === null &&                     // 价格未填\r\n\t\t    f.originalPrice === null &&             // 原价未填\r\n\t\t    f.categoryId === null &&                // 没选分类\r\n\t\t    f.images.length === 0 &&                // 没传图\r\n\t\t    !f.description?.trim() &&               // 描述为空\r\n\t\t    !f.wechat?.trim() &&                    // 微信为空\r\n\t\t    !f.phone?.trim() &&                     // 手机为空\r\n\t\t    !f.qq?.trim() &&                        // QQ为空\r\n\t\t    f.isNegotiable === false &&             // 可刀未勾\r\n\t\t    f.isFreeShipping === false              // 包邮未勾\r\n\t\t  )\r\n\t\tif (this.hasEverLeft && !isEmptyForm ) {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '检测到您离开过发布页',\r\n\t\t\t\tcontent: '是否重新加载页面？（选择“是”将清空所有内容重新开始）',\r\n\t\t\t\tconfirmText: '重新加载',\r\n\t\t\t\tcancelText: '继续编辑',\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t// 点“是” → 完全重置，就像第一次进来一样\r\n\t\t\t\t\t\tthis.resetForm()\r\n\t\t\t\t\t\tthis.loadCategories()\r\n\t\t\t\t\t\tuni.showToast({ title: '已重新加载', icon: 'success' })\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 点“否” → 啥也不干，保留当前内容\r\n\t\t\t\t\t\tconsole.log('继续编辑，不重置')\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\t// 标记：已经展示过一次页面了\r\n\t\tthis.hasEverLeft = true\r\n\t},\r\n\tonUnload() {\r\n\t\t// 彻底离开页面（如关闭页面）时也标记\r\n\t\tthis.hasEverLeft = true\r\n\t},\r\n\tmethods: {\r\n\t\t\r\n\t\t// 强制重置\r\n\t\tresetForm() {\r\n\t\t\tthis.form = {\r\n\t\t\t\ttitle: '', price: null, originalPrice: null, categoryId: null,\r\n\t\t\t\timages: [], description: '', wechat: '', phone: '', qq: '',\r\n\t\t\t\tisNegotiable: false, isFreeShipping: false\r\n\t\t\t}\r\n\t\t\tthis.priceStr = ''\r\n\t\t\tthis.originalPriceStr = ''\r\n\t\t\tthis.selectedCategoryName = ''\r\n\t\t\tthis.categories = []         // 清空旧数据\r\n\t\t\tthis.submitting = false\r\n\t\t},\r\n\r\n\t\t// 关键：这个函数必须存在，而且要 async + await！\r\n\t\tasync loadCategories() {\r\n\t\t\tthis.categoryLoading = true\r\n\t\t\tconst token = uni.getStorageSync('token')\r\n\t\t\tif (!token) {\r\n\t\t\t\tuni.showToast({ title: '请先登录', icon: 'none' })\r\n\t\t\t\tthis.categoryLoading = false\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst res = await uni.request({\r\n\t\t\t\t\turl: 'http://192.168.0.105:8080/api/categories',\r\n\t\t\t\t\theader: { Authorization: 'Bearer ' + token }\r\n\t\t\t\t})\r\n\t\t\t\tconst result = res[1] || res\r\n\t\t\t\tif (result.statusCode === 200 && Array.isArray(result.data)) {\r\n\t\t\t\t\tthis.categories = result.data\r\n\t\t\t\t\tconsole.log('分类加载成功：', this.categories) // 调试神器！\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({ title: '分类加载失败', icon: 'none' })\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error('分类请求出错', e)\r\n\t\t\t\tuni.showToast({ title: '网络错误', icon: 'none' })\r\n\t\t\t} finally {\r\n\t\t\t\tthis.categoryLoading = false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 点击分类时，防止数据没加载完就弹窗\r\n\t\topenCategoryPopup() {\r\n\t\t\tif (this.categories.length === 0) {\r\n\t\t\t\tuni.showToast({ title: '分类加载中...', icon: 'loading' })\r\n\t\t\t\tthis.loadCategories().then(() => {\r\n\t\t\t\t\tsetTimeout(() => this.$refs.popup.open(), 300) // 确保数据渲染完再弹\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthis.$refs.popup.open()\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tclosePopup() { this.$refs.popup.close() },\r\n\t\tselectCategory(id, name) {\r\n\t\t\tthis.form.categoryId = id\r\n\t\t\tthis.selectedCategoryName = name\r\n\t\t\tthis.closePopup()\r\n\t\t},\r\n\r\n\t\t// 价格输入过滤\r\n\t\tfilterNumber(e) {\r\n\t\t\t// this.priceError = ''  // 先清空错误\r\n\t\t\tlet val = e.detail.value\r\n\r\n\t\t\tif (val && !/^\\d+(\\.\\d{0,2})?$/.test(val)) {\t\t\t\t\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '价格必须是纯数字，小数点后最多两位',\r\n\t\t\t\t\tconfirmColor: '#ee6666', //确定字体颜色\r\n\t\t\t\t\tshowCancel: false,//没有取消按钮的弹框\r\n\t\t\t\t\tbuttonText: '确定',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthis.form.price = ''\r\n\t\t\t\t\t\t\tthis.priceStr = ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.form.price = val ? Number(val) : null\r\n\t\t\tthis.priceStr = val\r\n\t\t},\r\n\r\n\t\tfilterNumber2(e) {\r\n\t\t\t// this.originalError = ''\r\n\t\t\tlet val = e.detail.value\r\n\t\t\t\r\n\t\t\tif (val && !/^\\d+(\\.\\d{0,2})?$/.test(val)) {\t\t\t\t\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '原价必须是纯数字，小数点后最多两位',\r\n\t\t\t\t\tconfirmColor: '#ee6666', //确定字体颜色\r\n\t\t\t\t\tshowCancel: false,//没有取消按钮的弹框\r\n\t\t\t\t\tbuttonText: '确定',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthis.form.originalPriceStr = ''\r\n\t\t\t\t\t\t\tthis.originalPriceStr = ''\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.form.originalPrice = val ? Number(val) : null\r\n\t\t\tthis.originalPriceStr = val\r\n\t\t},\r\n\r\n\t\t// 上传图片和 submit 保持不变...\r\n\t\tchooseImage() {\r\n\t\t\tuni.chooseImage({\r\n\t\t\t\tcount: 9 - this.form.images.length,\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tres.tempFilePaths.forEach(path => {\r\n\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\turl: 'http://192.168.0.105:8080/api/goods/upload',\r\n\t\t\t\t\t\t\tfilePath: path,\r\n\t\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\t\theader: { Authorization: 'Bearer ' + uni.getStorageSync('token') },\r\n\t\t\t\t\t\t\tsuccess: (uploadRes) => {\r\n\t\t\t\t\t\t\t\tconst data = JSON.parse(uploadRes.data)\r\n\t\t\t\t\t\t\t\tif (data.url) this.form.images.push(data.url)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\tsubmit() {\r\n\t\t\tif (!this.form.title) return uni.showToast({ title: '请填写标题', icon: 'none' })\r\n\t\t\tif (!this.form.price || this.form.price <= 0) return uni.showToast({ title: '请填写正确的价格', icon: 'none' })\r\n\t\t\tif (!this.form.categoryId) return uni.showToast({ title: '请选择分类', icon: 'none' })\r\n\t\t\tif (this.form.images.length === 0) return uni.showToast({ title: '至少上传一张图片', icon: 'none' })\r\n\t\t\tif (!this.form.wechat && !this.form.phone && !this.form.qq) return uni.showToast({ title: '至少填写一种联系方式', icon: 'none' })\r\n\r\n\t\t\tthis.submitting = true\r\n\t\t\tuni.showLoading({ title: '发布中...' })\r\n\r\n\t\t\tuni.request({\r\n\t\t\t\turl: 'http://192.168.0.105:8080/api/goods/publish',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader: { Authorization: 'Bearer ' + uni.getStorageSync('token') },\r\n\t\t\t\tdata: this.form,\r\n\t\t\t\tsuccess: () => {\r\n\t\t\t\t\tuni.showToast({ title: '发布成功！', icon: 'success' })\r\n\t\t\t\t\tsetTimeout(() => uni.switchTab({ url: '/pages/index/index' }), 1000)\r\n\t\t\t\t},\r\n\t\t\t\tfail: () => uni.showToast({ title: '发布失败', icon: 'none' }),\r\n\t\t\t\tcomplete: () => {\r\n\t\t\t\t\tthis.submitting = false\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n<style scoped>\r\n.publish-page { background: #f8f8f8; min-height: 100vh; padding-bottom: 100rpx; }\r\n.form { padding: 32rpx; }\r\n.input-item { background: #fff; padding: 32rpx; margin-bottom: 20rpx; border-radius: 20rpx; display: flex; align-items: center; justify-content: space-between; }\r\n.label { font-size: 32rpx; }\r\n.req { color: #ff4757; }\r\ninput { flex: 1; text-align: right; font-size: 32rpx; }\r\n.value { flex: 1; text-align: right; color: #333; }\r\n.upload-grid { display: flex; flex-wrap: wrap; margin-top: 20rpx; }\r\n.img-item, .upload-btn { width: 200rpx; height: 200rpx; margin-right: 20rpx; margin-bottom: 20rpx; border-radius: 20rpx; overflow: hidden; position: relative; background: #f9f9f9; border: 2rpx dashed #ddd; }\r\n.img-item image { width: 100%; height: 100%; }\r\n.delete { position: absolute; top: 0; right: 0; background: rgba(0,0,0,0.6); color: #fff; width: 40rpx; height: 40rpx; text-align: center; line-height: 40rpx; border-radius: 0 0 0 20rpx; }\r\n.upload-btn { display: flex; align-items: center; justify-content: center; }\r\n.desc-input { width: 100%; height: 300rpx; padding: 20rpx; border: 1px solid #eee; border-radius: 16rpx; margin-top: 16rpx; background: #fff; }\r\n.options { display: flex; justify-content: space-around; padding: 40rpx 0; }\r\n.option-item { display: flex; align-items: center; font-size: 32rpx; }\r\n.option-item text { margin-left: 16rpx; }\r\n.option-item .active { color: #ff4757; }\r\n.publish-btn { margin: 60rpx 32rpx; background: linear-gradient(135deg, #ff6b6b, #ee5a52); color: #fff; height: 88rpx; line-height: 88rpx; border-radius: 88rpx; font-size: 36rpx; font-weight: bold; }\r\n.popup-content { background: #fff; border-radius: 24rpx 24rpx 0 0; }\r\n.popup-header { padding: 32rpx; display: flex; justify-content: space-between; font-size: 32rpx; border-bottom: 1rpx solid #eee; }\r\n.category-grid { display: flex; flex-wrap: wrap; padding: 32rpx; }\r\n.cat-item { width: 33.33%; text-align: center; padding: 32rpx 0; font-size: 30rpx; }\r\n</style>","import MiniProgramPage from 'E:/code/wechatDOC/HbUniapp/demoxiaoyuan/pages/publish/publish.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}