{"version":3,"file":"index.js","sources":["pages/index/index.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<!-- pages/index/index.vue -->\r\n<template>\r\n\t<view class=\"page\">\r\n\t\t<!-- 顶部胶囊安全区 -->\r\n\t\t<view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\r\n\t\t<!-- 只在开发环境显示的强制退出按钮 -->\r\n\t\t<view v-if=\"true\" style=\"margin-top: 20px; text-align: center;\">\r\n\t\t  <button \r\n\t\t    size=\"mini\" \r\n\t\t    type=\"warn\" \r\n\t\t    plain \r\n\t\t    @click=\"forceLogout\"\r\n\t\t    style=\"font-size: 12px; padding: 4px 8px;\"\r\n\t\t  >\r\n\t\t    ⚠️ 强制退出登录（调试专用）\r\n\t\t  </button>\r\n\t\t</view>\r\n\t\t<!-- 顶部导航栏 -->\r\n\t\t<view class=\"navbar\" :style=\"{ paddingTop: statusBarHeight + 'px' }\">\r\n\t\t  <view class=\"navbar-left\">\r\n\t\t\t<!-- 大学名字 -->\r\n\t\t\t<text class=\"school-name\">{{ profile?.university?.name || '未选择大学' }}</text>\r\n\t\t\t\r\n\t\t\t<!-- 新版切换按钮：更小、更轻量、毛玻璃半透明、位置往上靠一点 -->\r\n\t\t\t<view class=\"change-university-btn\" @click=\"changeUniversity\">\r\n\t\t\t  <uni-icons type=\"refreshempty\" size=\"14\" color=\"#999\" />\r\n\t\t\t  <text class=\"btn-text\">切换</text>\r\n\t\t\t</view>\r\n\t\t  </view> \r\n\r\n\t\t  <view class=\"navbar-right\">\r\n\t\t\t<uni-icons type=\"search\" size=\"22\" color=\"#fff\" @click=\"toSearch\" />\r\n\t\t  </view>\r\n\t\t</view>\r\n\r\n\t\t<!-- Swiper 轮播图 -->\r\n\t\t<swiper class=\"banner-swiper\" autoplay circular indicator-dots indicator-color=\"#fff\" indicator-active-color=\"#007AFF\">\r\n\t\t\t<swiper-item v-for=\"(item, i) in banners\" :key=\"i\">\r\n\t\t\t\t<image :src=\"item\" mode=\"aspectFill\" class=\"banner-img\" @click=\"onBannerClick(i)\" />\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\r\n\t\t<!-- 快捷入口 -->\r\n\t\t<view class=\"quick-entries\">\r\n<!-- \t\t\t<view class=\"entry-item\" @click=\"toPublish\">\r\n\t\t\t\t<image src=\"/static/c1.png\" class=\"entry-icon big\" />\r\n\t\t\t\t<text class=\"entry-text\">我要求</text>\r\n\t\t\t</view> -->\r\n\t\t\t<view class=\"entry-item\" v-for=\"c in categories\" :key=\"c.id\" @click=\"toCategory(c.id)\">\r\n\t\t\t\t<image :src=\"c.icon\" class=\"entry-icon\" />\r\n\t\t\t\t<text class=\"entry-text\">{{ c.name }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 推荐商品列表 -->\r\n\t\t<view class=\"section\">\r\n\t\t  <view class=\"section-header\">\r\n\t\t\t<text class=\"section-title\">推荐闲置</text>\r\n\t\t  </view>\r\n\r\n\t\t  <view class=\"goods-waterfall\">\r\n\t\t\t<view class=\"column\">\r\n\t\t\t  <view v-for=\"item in leftGoods\" :key=\"item.id\" class=\"goods-card\" @click=\"toDetail(item.id)\">\r\n\t\t\t\t<image :src=\"item.cover || '/static/c1.png'\" mode=\"aspectFill\" class=\"goods-cover\" />\r\n\t\t\t\t<view class=\"goods-info\">\r\n\t\t\t\t  <text class=\"goods-title\">{{ item.title }}</text>\r\n\t\t\t\t  <view class=\"goods-bottom\">\r\n\t\t\t\t\t<text class=\"goods-price\">¥{{ item.price }}</text>\r\n\t\t\t\t\t<!-- 喜欢图标和数量 -->\r\n\t\t\t\t\t<view class=\"goods-like\" @click.stop=\"toggleLikeInList(item.id)\">\r\n\t\t\t\t\t  <uni-icons \r\n\t\t\t\t\t\t:type=\"item.isLiked ? 'heart-filled' : 'heart'\" \r\n\t\t\t\t\t\t:color=\"item.isLiked ? '#ff4757' : '#999'\" \r\n\t\t\t\t\t\tsize=\"20\" \r\n\t\t\t\t\t  />\r\n\t\t\t\t\t  <text>{{ item.likeCount || 0 }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t  </view>\r\n\t\t\t\t</view>\r\n\t\t\t  </view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"column\">\r\n\t\t\t  <view v-for=\"item in rightGoods\" :key=\"item.id\" class=\"goods-card\" @click=\"toDetail(item.id)\">\r\n\t\t\t\t<image :src=\"item.cover || '/static/c1.png'\" mode=\"aspectFill\" class=\"goods-cover\" />\r\n\t\t\t\t<view class=\"goods-info\">\r\n\t\t\t\t  <text class=\"goods-title\">{{ item.title }}</text>\r\n\t\t\t\t  <view class=\"goods-bottom\">\r\n\t\t\t\t\t<text class=\"goods-price\">¥{{ item.price }}</text>\r\n\t\t\t\t\t<!-- 喜欢图标和数量 -->\r\n\t\t\t\t\t<view class=\"goods-like\" @click.stop=\"toggleLikeInList(item.id)\">\r\n\t\t\t\t\t  <uni-icons \r\n\t\t\t\t\t\t:type=\"item.isLiked ? 'heart-filled' : 'heart'\" \r\n\t\t\t\t\t\t:color=\"item.isLiked ? '#ff4757' : '#999'\" \r\n\t\t\t\t\t\tsize=\"20\" \r\n\t\t\t\t\t  />\r\n\t\t\t\t\t  <text>{{ item.likeCount || 0 }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t  </view>\r\n\t\t\t\t</view>\r\n\t\t\t  </view>\r\n\t\t\t</view>\r\n\t\t  </view>\r\n\r\n\t\t  <!-- 加载更多状态区域 -->\r\n\t\t  <view class=\"load-more\" v-if=\"goodsList.length > 0\">\r\n\t\t\t<!-- 加载中 -->\r\n\t\t\t<view v-if=\"loading\" class=\"loading-text\">\r\n\t\t\t  <text>加载中...</text>\r\n\t\t\t</view>\r\n\t\t\t<!-- 加载更多按钮 -->\r\n\t\t\t<view v-else-if=\"hasMore\" class=\"load-more-btn\" @click=\"loadMore\">\r\n\t\t\t  <text>点击加载更多</text>\r\n\t\t\t</view>\r\n\t\t\t<!-- 没有更多 -->\r\n\t\t\t<view v-else class=\"no-more-text\">\r\n\t\t\t  <text>没有更多了 ~</text>\r\n\t\t\t</view>\r\n\t\t  </view>\r\n\r\n\t\t  <!-- 空状态 -->\r\n\t\t  <view v-if=\"goodsList.length === 0 && !loading\" class=\"empty\">\r\n\t\t\t<image src=\"/static/c1.png\" class=\"empty-img\" />\r\n\t\t\t<text class=\"empty-text\">暂无闲置商品～</text>\r\n\t\t  </view>\r\n\t\t</view>\r\n\t</view>\r\n\t<!-- 底部TabBar -->\r\n\t<!-- 自定义 tabBar（必须放在最后）-->\r\n\t<!-- <custom-tab-bar :index=\"0\" /> -->\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tstatusBarHeight: uni.getSystemInfoSync().statusBarHeight,\r\n\t\t\tprofile: null,\r\n\t\t\tbanners: [\r\n\t\t\t\t'/static/c1.png',\r\n\t\t\t\t'/static/c1.png',\r\n\t\t\t\t'/static/c1.png'\r\n\t\t\t],\r\n\t\t\tcategories: [],\r\n\t\t\tgoodsList: [],  // 原始数据\r\n\t\t\tleftGoods: [],\r\n\t\t\trightGoods: [],\r\n\t\t\t// === 新增分页相关状态 ===\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tpageSize: 20,\r\n\t\t\thasMore: true,        // 是否还有更多数据\r\n\t\t\tloading: false        // 是否正在加载\r\n\t\t}\r\n\t},\r\n\tonLoad() {\r\n\t\tthis.fetchProfile()\r\n\t\tthis.fetchCategories()  // 新增：加载分类\r\n\t},\r\n\tonShow() {\r\n\t\tthis.currentPage = 1\r\n\t\tthis.fetchProfile()  \r\n\t\tthis.fetchCategories()  // 刷新时也加载\r\n\t},\r\n\tonPullDownRefresh() {\r\n\t  Promise.all([\r\n\t\tthis.fetchProfile(),\r\n\t\tthis.fetchGoods(true),  // true 表示刷新\r\n\t\tthis.fetchCategories()\r\n\t  ]).then(() => {\r\n\t\tuni.stopPullDownRefresh()\r\n\t  })\r\n\t},\r\n\tmethods: {\r\n\t\t// 新增：从后端获取分类列表\r\n\t\tasync fetchCategories() {\r\n\t\t\t\t\tconst token = uni.getStorageSync('token')\r\n\t\t\t\t\tif (!token) return\r\n\t\t\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst res = await uni.request({\r\n\t\t\t\t\t\t\turl: 'http://192.168.0.105:8080/api/categories',\r\n\t\t\t\t\t\t\theader: { Authorization: 'Bearer ' + token }\r\n\t\t\t\t\t\t})\r\n\t\t\r\n\t\t\t\t\t\tconst result = res[1] || res\r\n\t\t\t\t\t\tif (result?.statusCode === 200) {\r\n\t\t\t\t\t\t\tthis.categories = result.data || []  // 后端返回数组 [{id:1, name:'数码', icon:'/static/c1.png'}]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.log('分类加载失败', e)\r\n\t\t\t\t\t\t// 兜底：用硬编码（防止后端出问题）\r\n\t\t\t\t\t\tthis.categories = [\r\n\t\t\t\t\t\t\t{ id: 1, name: '数码', icon: '/static/c1.png'},\r\n\t\t\t\t\t\t\t{ id: 2, name: '服饰', icon: '/static/c2.png'},\r\n\t\t\t\t\t\t\t{ id: 3, name: '美妆', icon: '/static/c3.png'},\r\n\t\t\t\t\t\t\t{ id: 4, name: '运动', icon: '/static/c4.png'},\r\n\t\t\t\t\t\t\t{ id: 5, name: '书籍', icon: '/static/c5.png'},\r\n\t\t\t\t\t\t\t{ id: 6, name: '生活', icon: '/static/c6.png'},\r\n\t\t\t\t\t\t\t{ id: 7, name: '其他', icon: '/static/c7.png'},\r\n\t\t\t\t\t\t\t{ id: 8, name: '等等', icon: '/static/c8.png'},\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t  // 新增：强制退出登录（调试神器）\r\n\t\t  forceLogout() {\r\n\t\t    // 防止误触：再弹一个确认框\r\n\t\t    uni.showModal({\r\n\t\t      title: '强制退出登录',\r\n\t\t      content: '确定要清除 token 并重新登录吗？（用于调试）',\r\n\t\t      confirmText: '退出',\r\n\t\t      confirmColor: '#ff5a5f',\r\n\t\t      success: (res) => {\r\n\t\t        if (res.confirm) {\r\n\t\t          // 1. 清除所有本地登录痕迹\r\n\t\t          uni.removeStorageSync('token')\r\n\t\t          uni.removeStorageSync('userInfo')  // 如果你还存了其他信息\r\n\t\t          \r\n\t\t          // 2. 重置页面状态\r\n\t\t          this.loggedIn = false\r\n\t\t          this.token = ''\r\n\t\t          this.selectedUniversityId = ''\r\n\t\t          this.searchText = ''\r\n\t\t          this.searchResults = []\r\n\t\t\r\n\t\t          uni.showToast({\r\n\t\t            title: '已强制退出，将重新登录',\r\n\t\t            icon: 'none',\r\n\t\t            duration: 2000\r\n\t\t          })\r\n\t\t\r\n\t\t          // 3. 延迟跳转，避免 modal 和 toast 冲突\r\n\t\t          setTimeout(() => {\r\n\t\t            uni.reLaunch({\r\n\t\t              url: '/pages/login/login'\r\n\t\t            })\r\n\t\t          }, 800)\r\n\t\t        }\r\n\t\t      }\r\n\t\t    })\r\n\t\t  },\r\n\t\tasync fetchProfile() {\r\n\t\t  const token = uni.getStorageSync('token')\r\n\t\t  if (!token) return (this.profile = null)\r\n\r\n\t\t  try {\r\n\t\t\tconst res = await uni.request({\r\n\t\t\t  url: 'http://192.168.0.105:8080/api/user/profile',\r\n\t\t\t  header: { Authorization: 'Bearer ' + token }\r\n\t\t\t})\r\n\r\n\t\t\t// 万能取法：不管是 [err,res] 还是 {data} 都能拿到\r\n\t\t\tconst result = res[1] || res[0] || res\r\n\r\n\t\t\tif (result?.statusCode === 200 && result?.data?.university) {\r\n\t\t\t  this.profile = result.data\r\n\t\t\t  this.fetchGoods()\r\n\t\t\t} else {\r\n\t\t\t  this.profile = null\r\n\t\t\t}\r\n\t\t  } catch (e) {\r\n\t\t\tthis.profile = null\r\n\t\t  }\r\n\t\t},\r\n\t\tloadMore() {\r\n\t\t  if (!this.hasMore || this.loading) return\r\n\t\t  this.fetchGoods()  // 继续加载下一页\r\n\t\t},\r\n\t\t// 获取推荐商品（从后端 API 获取，替换模拟数据）\r\n\t\tasync fetchGoods(refresh = false) {\r\n\t\t  if (this.loading) return // 防止重复点击\r\n\t\t  if (!refresh && !this.hasMore) return\r\n\t\t\r\n\t\t  const token = uni.getStorageSync('token')\r\n\t\t  const universityId = this.profile?.university?.id\r\n\t\t  if (!token || !universityId) {\r\n\t\t    uni.showToast({ title: '请先登录并选择大学', icon: 'none' })\r\n\t\t    return\r\n\t\t  }\r\n\t\t\r\n\t\t  // 如果是刷新，重置分页\r\n\t\t  if (refresh) {\r\n\t\t    this.currentPage = 1\r\n\t\t    this.hasMore = true\r\n\t\t    this.goodsList = []\r\n\t\t  }\r\n\t\t\r\n\t\t  this.loading = true\r\n\t\t  uni.showLoading({ title: '加载中...' })\r\n\t\t\r\n\t\t  try {\r\n\t\t    const res = await uni.request({\r\n\t\t      url: 'http://192.168.0.105:8080/api/goods/recommend',\r\n\t\t      data: {\r\n\t\t        universityId: universityId,\r\n\t\t        page: this.currentPage,\r\n\t\t        size: this.pageSize\r\n\t\t      },\r\n\t\t      header: { Authorization: 'Bearer ' + token }\r\n\t\t    })\r\n\t\t\r\n\t\t    const result = res[1] || res[0] || res\r\n\t\t    if (result?.statusCode === 200) {\r\n\t\t      const newGoods = result.data || []\r\n\t\t\r\n\t\t      // 如果是第一页或刷新，覆盖；否则追加\r\n\t\t      if (this.currentPage === 1) {\r\n\t\t        this.goodsList = newGoods\r\n\t\t      } else {\r\n\t\t        this.goodsList = [...this.goodsList, ...newGoods]\r\n\t\t      }\r\n\t\t\r\n\t\t      // 判断是否有更多（后端没返回总数时，用长度判断）\r\n\t\t      this.hasMore = newGoods.length === this.pageSize\r\n\t\t      this.currentPage += 1\r\n\t\t    } else {\r\n\t\t      uni.showToast({ title: '加载失败', icon: 'none' })\r\n\t\t      this.hasMore = false\r\n\t\t    }\r\n\t\t  } catch (e) {\r\n\t\t    console.error('加载商品失败', e)\r\n\t\t    uni.showToast({ title: '网络错误', icon: 'none' })\r\n\t\t    this.hasMore = false\r\n\t\t  } finally {\r\n\t\t    this.loading = false\r\n\t\t    uni.hideLoading()\r\n\t\t    this.splitWaterfall()  // 重新分割瀑布流\r\n\t\t  }\r\n\t\t},\r\n\t\t\r\n\t\t// 瀑布流分割\r\n\t\tsplitWaterfall() {\r\n\t\t\tthis.leftGoods = []\r\n\t\t\tthis.rightGoods = []\r\n\t\t\tthis.goodsList.forEach((item, i) => {\r\n\t\t\t\tif (i % 2 === 0) this.leftGoods.push(item)\r\n\t\t\t\telse this.rightGoods.push(item)\r\n\t\t\t})\r\n\t\t}, \r\n\t\t\r\n\t\ttoggleLikeInList(goodsId) {\r\n\t\t      const token = uni.getStorageSync('token')\r\n\t\t      if (!token) {\r\n\t\t        uni.showToast({ title: '请先登录', icon: 'none' })\r\n\t\t        return\r\n\t\t      }\r\n\t\t\r\n\t\t      const item = this.goodsList.find(g => g.id === goodsId)\r\n\t\t      if (!item) return\r\n\t\t\r\n\t\t      item.isLiked = !item.isLiked\r\n\t\t      item.likeCount += item.isLiked ? 1 : -1\r\n\t\t\r\n\t\t      uni.request({\r\n\t\t        url: `http://192.168.0.105:8080/api/user/like/${goodsId}`,\r\n\t\t        method: 'POST',\r\n\t\t        header: { Authorization: 'Bearer ' + token },\r\n\t\t        success: (res) => {\r\n\t\t          const result = res.data\r\n\t\t          if (result.ok) {\r\n\t\t            item.isLiked = result.isLiked\r\n\t\t            item.likeCount = result.likeCount\r\n\t\t            uni.$emit('likeUpdated', { goodsId, isLiked: item.isLiked, likeCount: item.likeCount })\r\n\t\t          } else {\r\n\t\t            item.isLiked = !item.isLiked\r\n\t\t            item.likeCount += item.isLiked ? 1 : -1\r\n\t\t          }\r\n\t\t        },\r\n\t\t        fail: () => {\r\n\t\t          item.isLiked = !item.isLiked\r\n\t\t          item.likeCount += item.isLiked ? 1 : -1\r\n\t\t        }\r\n\t\t      })\r\n\t\t    },\r\n\r\n\r\n\t\ttoSearch() { uni.navigateTo({ url: '/pages/search/search' }) },\r\n\t\t// toPublish() { uni.navigateTo({ url: '/pages/publish/publish' }) },\r\n\t\ttoCategory(id) { uni.navigateTo({ url: `/pages/category/category?id=${id}` }) },\r\n\t\t// toAllGoods() { uni.switchTab({ url: '/pages/goods/goods' }) },\r\n\t\ttoDetail(id) { uni.navigateTo({ url: `/pages/detail/detail?id=${id}` }) },\r\n\t\tchangeUniversity() {\r\n\r\n\t\t  \r\n\t\t  uni.navigateTo({  // 改成 navigateTo（销毁当前页）\r\n\t\t\turl: '/pages/login/login?from=change'\r\n\t\t  }).then(() => { \r\n\t\t\tconsole.log('【index.vue】navigateTo 成功返回');\r\n\t\t  }).catch(err => {\r\n\t\t\tconsole.error('【index.vue】navigateTo 失败了！错误：', err);\r\n\t\t  });\r\n\t\t},\r\n\t\tonBannerClick(i) { console.log('点击了第', i + 1, '个轮播') }\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.page { background: #f5f5f5; min-height: 100vh; }\r\n\r\n/* 顶部导航 */\r\n.navbar {\r\n\tposition: fixed; top: 0; left: 0; right: 0; height: 88rpx; background: linear-gradient(135deg, #667eea, #764ba2); \r\n\tdisplay: flex; align-items: center; justify-content: space-between; padding: 0 32rpx; z-index: 999; color: #fff;\r\n}\r\n.school-name { font-size: 36rpx; font-weight: bold; max-width: 360rpx; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }\r\n.change-btn { font-size: 24rpx; opacity: 0.9; margin-left: 12rpx; }\r\n.change-university-btn {\r\n  position: absolute;\r\n  top: -80rpx;                        /* 正常 rpx 可以这样写 */\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background: rgba(255, 255, 255, 0.28);\r\n  backdrop-filter: blur(12px);        /* 改成 px，微信小程序完全支持 */\r\n  border: 1rpx solid rgba(255, 255, 255, 0.35);\r\n  border-radius: 32rpx;\r\n  padding: 8rpx 20rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8rpx;\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.08);\r\n  z-index: 10;\r\n}\r\n\r\n.change-university-btn .btn-text {\r\n  font-weight: 500;\r\n}\r\n\r\n.navbar-left {\r\n  position: relative;\r\n  padding-top: 20rpx;\r\n}\r\n/* 轮播 */\r\n.banner-swiper { height: 360rpx; }\r\n.banner-img { width: 100%; height: 100%; }\r\n\r\n/* 快捷入口 */\r\n.quick-entries {\r\n\tdisplay: flex; flex-wrap: wrap; background: #fff; padding: 32rpx 20rpx 20rpx; margin-bottom: 20rpx;\r\n}\r\n.entry-item { width: 25%; text-align: center; margin-bottom: 32rpx; }\r\n.entry-icon { width: 96rpx; height: 96rpx; border-radius: 24rpx; }\r\n.entry-icon.big { width: 124rpx; height: 124rpx; background: linear-gradient(135deg, #ff6b6b, #ee5a52); }\r\n.entry-text { display: block; margin-top: 16rpx; font-size: 28rpx; color: #333; }\r\n\r\n/* 推荐商品 */\r\n.section { padding: 0 24rpx; }\r\n.section-header { display: flex; justify-content: space-between; align-items: center; height: 88rpx; }\r\n.section-title { font-size: 36rpx; font-weight: bold; }\r\n.section-more { font-size: 28rpx; color: #999; }\r\n\r\n.goods-waterfall { display: flex; }\r\n.column { flex: 1; }\r\n.column:first-child { margin-right: 16rpx; }\r\n\r\n.goods-card { background: #fff; border-radius: 20rpx; overflow: hidden; margin-bottom: 24rpx; box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.05); }\r\n.goods-cover { width: 100%; height: 360rpx; }\r\n.goods-info { padding: 16rpx; }\r\n.goods-title { font-size: 28rpx; color: #333; display: -webkit-box; -webkit-box-orient: vertical; -webkit-line-clamp: 2; overflow: hidden; }\r\n.goods-bottom { display: flex; justify-content: space-between; align-items: center; margin-top: 12rpx; }\r\n.goods-price { font-size: 36rpx; color: #ff4757; font-weight: bold; }\r\n.goods-like { font-size: 24rpx; color: #999; }\r\n\r\n/* 空状态 */\r\n.empty { text-align: center; padding: 120rpx 0; }\r\n.empty-img { width: 360rpx; height: 300rpx; opacity: 0.8; }\r\n.empty-text { color: #999; margin-top: 32rpx; font-size: 32rpx; }\r\n\r\n.load-more {\r\n  padding: 32rpx 0;\r\n  text-align: center;\r\n}\r\n\r\n.load-more-btn {\r\n  display: inline-block;\r\n  padding: 16rpx 48rpx;\r\n  background: #007AFF;\r\n  color: #fff;\r\n  border-radius: 50rpx;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.loading-text,\r\n.no-more-text {\r\n  color: #999;\r\n  font-size: 28rpx;\r\n}\r\n</style>","import MiniProgramPage from 'E:/code/wechatDOC/HbUniapp/demoxiaoyuan/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}