{"version":3,"file":"edit.js","sources":["pages/address/edit.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWRkcmVzcy9lZGl0LnZ1ZQ"],"sourcesContent":["<!-- pages/address/edit.vue -->\r\n<template>\r\n  <view class=\"edit-page\">\r\n    <view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\r\n\r\n    <view class=\"form\">\r\n      <view class=\"form-item\">\r\n        <text class=\"label\">收货人</text>\r\n        <input v-model=\"form.name\" placeholder=\"请输入姓名\" />\r\n      </view>\r\n      <view class=\"form-item\">\r\n        <text class=\"label\">手机号</text>\r\n        <input v-model=\"form.phone\" placeholder=\"请输入手机号\" type=\"number\" />\r\n      </view>\r\n      <view class=\"form-item\">\r\n        <text class=\"label\">详细地址</text>\r\n        <textarea v-model=\"form.address\" placeholder=\"请输入详细地址\" />\r\n      </view>\r\n      <view class=\"form-item switch-item\">\r\n        <text class=\"label\">设为默认</text>\r\n        <switch :checked=\"form.isDefault\" @change=\"form.isDefault = $event.detail.value\" />\r\n      </view>\r\n    </view>\r\n\r\n    <button class=\"save-btn\" @click=\"save\">保存</button>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      statusBarHeight: 0,\r\n      form: {\r\n        id: null,\r\n        name: '',\r\n        phone: '',\r\n        address: '',\r\n        isDefault: false\r\n      }\r\n    }\r\n  },\r\n\r\n  onLoad(options) {\r\n    this.statusBarHeight = uni.getSystemInfoSync().statusBarHeight\r\n    if (options.id) {\r\n      this.loadAddress(options.id)\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    loadAddress(id) {\r\n      const token = uni.getStorageSync('token')\r\n      uni.request({\r\n        url: `http://192.168.0.105:8080/api/address/${id}`,  // 假设后端有 GET /address/{id}，如果没有，用 list 过滤\r\n        header: { Authorization: 'Bearer ' + token },\r\n        success: (res) => {\r\n          if (res.statusCode === 200) {\r\n            this.form = res.data\r\n          }\r\n        }\r\n      })\r\n    },\r\n\r\n    save() {\r\n      const token = uni.getStorageSync('token')\r\n      uni.request({\r\n        url: 'http://192.168.0.105:8080/api/address/save',\r\n        method: 'POST',\r\n        header: { Authorization: 'Bearer ' + token },\r\n        data: this.form,\r\n        success: (res) => {\r\n          if (res.statusCode === 200 && res.data.ok) {\r\n            uni.showToast({ title: '保存成功' })\r\n            uni.navigateBack()\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.edit-page { background: #f8f8f8; min-height: 100vh; padding: 40rpx; }\r\n.form { background: #fff; border-radius: 24rpx; padding: 40rpx; }\r\n.form-item { display: flex; align-items: center; border-bottom: 1rpx solid #eee; padding: 32rpx 0; }\r\n.form-item:last-child { border-bottom: none; }\r\n.label { width: 180rpx; font-size: 32rpx; color: #333; }\r\ninput, textarea { flex: 1; font-size: 32rpx; color: #666; }\r\ntextarea { height: 200rpx; }\r\n.switch-item { justify-content: space-between; }\r\n.save-btn { margin-top: 60rpx; background: #ff4757; color: #fff; height: 88rpx; line-height: 88rpx; border-radius: 88rpx; font-size: 32rpx; }\r\n</style>","import MiniProgramPage from 'E:/code/wechatDOC/HbUniapp/demoxiaoyuan/pages/address/edit.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AA6BA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,MAAM;AAAA,QACJ,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,OAAO;AAAA,QACP,SAAS;AAAA,QACT,WAAW;AAAA,MACb;AAAA,IACF;AAAA,EACD;AAAA,EAED,OAAO,SAAS;AACd,SAAK,kBAAkBA,oBAAI,kBAAmB,EAAC;AAC/C,QAAI,QAAQ,IAAI;AACd,WAAK,YAAY,QAAQ,EAAE;AAAA,IAC7B;AAAA,EACD;AAAA,EAED,SAAS;AAAA,IACP,YAAY,IAAI;AACd,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxCA,oBAAAA,MAAI,QAAQ;AAAA,QACV,KAAK,yCAAyC,EAAE;AAAA;AAAA,QAChD,QAAQ,EAAE,eAAe,YAAY,MAAO;AAAA,QAC5C,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,eAAe,KAAK;AAC1B,iBAAK,OAAO,IAAI;AAAA,UAClB;AAAA,QACF;AAAA,OACD;AAAA,IACF;AAAA,IAED,OAAO;AACL,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxCA,oBAAAA,MAAI,QAAQ;AAAA,QACV,KAAK;AAAA,QACL,QAAQ;AAAA,QACR,QAAQ,EAAE,eAAe,YAAY,MAAO;AAAA,QAC5C,MAAM,KAAK;AAAA,QACX,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,eAAe,OAAO,IAAI,KAAK,IAAI;AACzCA,0BAAAA,MAAI,UAAU,EAAE,OAAO,OAAK,CAAG;AAC/BA,0BAAAA,MAAI,aAAa;AAAA,UACnB;AAAA,QACF;AAAA,OACD;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;AC/EA,GAAG,WAAW,eAAe;"}